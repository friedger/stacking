(this["webpackJsonppool-registry"]=this["webpackJsonppool-registry"]||[]).push([[0],{247:function(e,n){},398:function(e,n){},399:function(e,n){},423:function(e,n){},437:function(e,n){},439:function(e,n){},445:function(e,n){},447:function(e,n){},459:function(e,n){},529:function(e,n){},531:function(e,n){},536:function(e,n){},538:function(e,n){},544:function(e,n){},546:function(e,n){},558:function(e,n){},561:function(e,n){},564:function(e,n){function t(e){return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}))}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=564},565:function(e,n){},570:function(e,n,t){"use strict";t.r(n);var c=t(12),s=t(248),i=t.n(s),o=t(23),r=t.n(o),a=t(86),u=t(15),l=t(122),d=t(256),j=t(43),b=t(91),O=t(89),f="SP2PABAF9FTAJYNFZH93XENAJ8FVY99RRM50D2JG9",h="friedger-pool-nft",p="https://stacks-node-api.mainnet.stacks.co",m=("".concat(p,"/v2/accounts"),new O.a);m.coreApiUrl=p;var g=new b.Configuration({basePath:"https://stacks-node-api.mainnet.stacks.co"}),v=(new b.AccountsApi(g),new b.SmartContractsApi(g),new b.TransactionsApi(g),new b.InfoApi(g),t(46)),x=t(170),S=new l.a(["store_write","publish_data"]),w=Object(v.atom)(new d.a({appConfig:S})),k=Object(v.atom)(),A=Object(v.atom)(),y=function(){var e=Object(v.useAtom)(w),n=Object(u.a)(e,1)[0],t=Object(x.useUpdateAtom)(k),s=Object(x.useUpdateAtom)(A),i={authOrigin:"https://app.blockstack.org",onFinish:function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(n.authResponse),e.next=3,n.userSession.loadUserData();case 3:c=e.sent,t(c);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),userSession:n,redirectTo:"/",manifestPath:"/manifest.json",appDetails:{name:"Pool Registry",icon:"/pool-registry.png"}};return{handleOpenAuth:function(){Object(j.f)(i)},handleSignOut:Object(c.useCallback)((function(){null===n||void 0===n||n.signUserOut("/")}),[n]),authOptions:i}},N=t(13);function C(e){var n=y().handleOpenAuth;return Object(N.jsx)("div",{className:"Landing",children:Object(N.jsx)("div",{className:"jumbotron jumbotron-fluid pt-3 mb-0",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"panel-landing text-center mt-3",children:[Object(N.jsx)("h1",{className:"landing-heading",children:"Members Only"}),Object(N.jsx)("p",{className:"lead",children:"Enjoy the exclusive Friedger Pool membership!"}),Object(N.jsx)("p",{className:"card-link mb-5",children:Object(N.jsx)("button",{className:"btn btn-outline-primary",type:"button",onClick:n,children:"Start now"})})]})})})})}var U=t(99);function P(){var e=y().handleSignOut,n=Object(v.useAtom)(w),t=Object(u.a)(n,1)[0];return(null===t||void 0===t?void 0:t.isUserSignedIn())?Object(N.jsx)("button",{className:"btn btn-primary btn-lg",onClick:function(){console.log("signOut"),e()},children:"Log Out"}):null}var F=t(171),I=t(1);function D(e){var n=y().authOptions,t=Object(v.useAtom)(w),s=Object(u.a)(t,1)[0],i=Object(v.useAtom)(k),o=Object(u.a)(i,2)[1];return Object(c.useEffect)((function(){(null===s||void 0===s?void 0:s.isUserSignedIn())?o(s.loadUserData()):s.isSignInPending()&&s.handlePendingSignIn()}),[s,o]),Object(N.jsxs)(U.a,{authOptions:n,children:[Object(N.jsx)(P,{userSession:s}),Object(N.jsx)(E,{userSession:s})]})}function E(e){var n=e.userSession,t=n&&n.isUserSignedIn(),s=n&&n.isUserSignedIn()&&n.loadUserData().decentralizedID,i=Object(c.useState)(),o=Object(u.a)(i,2),l=(o[0],o[1]),d=Object(c.useState)(),j=Object(u.a)(d,2),b=(j[0],j[1]),O=Object(c.useRef)(),p=Object(c.useRef)(),g=Object(U.b)().doContractCall,v=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l("Sending transaction"),e.next=4,g({contractAddress:f,contractName:h,functionName:"claim",functionArgs:[Object(F.b)(O.current.value.trim())],postConditionMode:I.o.Deny,postConditions:[],userSession:n,network:m,finished:function(e){console.log(e),l(void 0),b(e.txId)}});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),l(e.t0.toString());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[!t&&Object(N.jsx)(C,{}),s&&Object(N.jsxs)("div",{children:[Object(N.jsxs)("section",{children:[Object(N.jsx)("h5",{children:"Claim Friedger Pool NFT"}),"Pay what you want (to Friedger)",Object(N.jsxs)("div",{children:[Object(N.jsx)("input",{ref:O,placeholder:"5 STX"}),Object(N.jsx)("button",{className:"read_more",onClick:v,children:"Claim"})]})]}),Object(N.jsxs)("section",{children:[Object(N.jsx)("h5",{children:"Change reward receiver"}),"Enter the Stacks address that the pool admin should use for your reward payout.",Object(N.jsxs)("div",{children:[Object(N.jsx)("input",{ref:p,placeholder:"SP1234.."}),Object(N.jsx)("button",{className:"read_more",onClick:function(){},children:"Submit"})]})]})]})]})}i.a.render(Object(N.jsx)(D,{}),document.getElementById("react"))}},[[570,1,2]]]);
//# sourceMappingURL=main.cc40fd2c.chunk.js.map